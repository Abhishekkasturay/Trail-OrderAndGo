var e=("undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{}).parcelRequire29b1,a=e.register;a("daQ7Q",function(a,l){Object.defineProperty(a.exports,"__esModule",{value:!0,configurable:!0}),Object.defineProperty(a.exports,"default",{get:function(){return i},set:void 0,enumerable:!0,configurable:!0});var s=e("bbzbN"),t=e("7fPBF"),n=e("xSio0"),i=()=>{let[e,a]=(0,t.useState)({from:"",to:"",date:"",class:"GENERAL",disability:!1,flexible:!1,availableBerth:!1,railwayPass:!1}),[l,i]=(0,t.useState)(null),[r,o]=(0,t.useState)(!1),[d,c]=(0,t.useState)(null),m=e=>{let{name:l,value:s,type:t,checked:n}=e.target;a(e=>({...e,[l]:"checkbox"===t?n:s}))},x=async a=>{a.preventDefault(),o(!0),c(null);let{from:l,to:s}=e,t=`http://localhost:5000/api/trains?from=${encodeURIComponent(l)}&to=${encodeURIComponent(s)}`;console.log("Submitting form with data:",e),console.log("API URL:",t);try{let e=await fetch(t);if(!e.ok)throw Error(`HTTP error! status: ${e.status}`);let a=await e.json();console.log("API Response:",a),i(a)}catch(e){console.error("Error fetching train data:",e),c("Failed to fetch train data. Please try again."),i(null)}finally{o(!1)}};return(0,s.jsxs)("div",{id:"main",style:{position:"relative",height:"100vh",backgroundColor:"rgba(50%, 50%, 50%, 0.1)"},children:[(0,s.jsx)("div",{style:{position:"absolute",top:0,left:0,right:0,bottom:0,backgroundImage:`url(${n&&n.__esModule?n.default:n})`,backgroundSize:"cover",backgroundPosition:"center",opacity:1,zIndex:-1}}),(0,s.jsxs)("div",{id:"Banner",children:[(0,s.jsx)("div",{id:"nav",style:{display:"none"}}),(0,s.jsx)("div",{id:"nav2",style:{display:"none"}})]}),(0,s.jsx)("div",{id:"middlepage",style:{marginLeft:"30px"},children:(0,s.jsx)("div",{id:"instruction",style:{position:"absolute",top:"140px",left:"990px",right:"0px",zIndex:"1",backgroundColor:"transparent",overflow:"hidden"},children:(0,s.jsxs)("div",{className:"flex flex-wrap flex-col justify-center",children:[(0,s.jsx)("label",{className:"railway p-4 font-black",children:"INDIAN RAILWAYS"}),(0,s.jsx)("label",{className:"ins font-black",children:"Safety | Security | Punctuality"})]})})}),(0,s.jsx)("div",{className:"flex justify-center items-center h-screen bg-gray-100 bg-opacity-80",children:(0,s.jsxs)("form",{onSubmit:x,className:"bg-white p-8 rounded shadow-md w-full max-w-md",children:[(0,s.jsx)("h2",{className:"text-2xl font-bold mb-6 text-center",children:"BOOK TICKET"}),(0,s.jsxs)("div",{className:"mb-4",children:[(0,s.jsx)("label",{className:"block text-gray-700",children:"From"}),(0,s.jsx)("input",{type:"text",name:"from",value:e.from,onChange:m,className:"w-full p-2 border border-gray-300 rounded mt-1"})]}),(0,s.jsxs)("div",{className:"mb-4",children:[(0,s.jsx)("label",{className:"block text-gray-700",children:"To"}),(0,s.jsx)("input",{type:"text",name:"to",value:e.to,onChange:m,className:"w-full p-2 border border-gray-300 rounded mt-1"})]}),(0,s.jsxs)("div",{className:"mb-4",children:[(0,s.jsx)("label",{className:"block text-gray-700",children:"Date of Journey"}),(0,s.jsx)("input",{type:"date",name:"date",value:e.date,onChange:m,className:"w-full p-2 border border-gray-300 rounded mt-1"})]}),(0,s.jsxs)("div",{className:"mb-4",children:[(0,s.jsx)("label",{className:"block text-gray-700",children:"Class"}),(0,s.jsxs)("select",{name:"class",value:e.class,onChange:m,className:"w-full p-2 border border-gray-300 rounded mt-1",children:[(0,s.jsx)("option",{value:"GENERAL",children:"GENERAL"}),(0,s.jsx)("option",{value:"SLEEPER",children:"SLEEPER"}),(0,s.jsx)("option",{value:"AC",children:"AC"})]})]}),(0,s.jsx)("div",{className:"mb-4",children:(0,s.jsxs)("label",{className:"block text-gray-700",children:[(0,s.jsx)("input",{type:"checkbox",name:"disability",checked:e.disability,onChange:m,className:"mr-2"}),"Person With Disability Concession"]})}),(0,s.jsx)("div",{className:"mb-4",children:(0,s.jsxs)("label",{className:"block text-gray-700",children:[(0,s.jsx)("input",{type:"checkbox",name:"flexible",checked:e.flexible,onChange:m,className:"mr-2"}),"Flexible With Date"]})}),(0,s.jsx)("div",{className:"mb-4",children:(0,s.jsxs)("label",{className:"block text-gray-700",children:[(0,s.jsx)("input",{type:"checkbox",name:"availableBerth",checked:e.availableBerth,onChange:m,className:"mr-2"}),"Train with Available Berth"]})}),(0,s.jsx)("div",{className:"mb-4",children:(0,s.jsxs)("label",{className:"block text-gray-700",children:[(0,s.jsx)("input",{type:"checkbox",name:"railwayPass",checked:e.railwayPass,onChange:m,className:"mr-2"}),"Railway Pass Concession"]})}),(0,s.jsxs)("div",{className:"flex justify-between",children:[(0,s.jsx)("button",{type:"submit",className:"bg-orange-500 text-white py-2 px-4 rounded",children:"Search"}),(0,s.jsx)("button",{type:"button",className:"bg-blue-500 text-white py-2 px-4 rounded",onClick:()=>alert("Easy Booking on AskDISHA"),children:"Easy Booking on AskDISHA"})]})]})}),r&&(0,s.jsx)("div",{className:"text-center mt-4",children:(0,s.jsx)("span",{children:"Loading..."})}),d&&(0,s.jsx)("div",{className:"text-center mt-4 text-red-500",children:(0,s.jsx)("span",{children:d})}),l&&(0,s.jsxs)("div",{className:"train-data p-4 bg-white rounded shadow-md w-full max-w-md mt-8",children:[(0,s.jsx)("h2",{className:"text-xl font-bold mb-4",children:"Available Trains"}),(0,s.jsx)("ul",{children:l.map(e=>(0,s.jsxs)("li",{className:"mb-2",children:[(0,s.jsx)("div",{className:"font-semibold",children:e.trainName}),(0,s.jsxs)("div",{children:[e.fromStnCode," (",e.departureTime,") -"," ",e.toStnCode," (",e.arrivalTime,")"]}),(0,s.jsxs)("div",{children:["Type: ",e.trainType.join(", ")]}),(0,s.jsxs)("div",{children:["Travel Time: ",e.duration]})]},e.trainNumber))})]})]})}}),a("xSio0",function(e,a){e.exports=new URL("home_page_banner1.e6749c3d9698d1ac7608.37b55ff4.jpg",import.meta.url).toString()});
//# sourceMappingURL=RailwayBooking.e0be6a46.js.map
